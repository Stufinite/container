$(document).ready(function(){function a(b,c,d){let e=new URL(location).searchParams;var f=e.get('start'),g=(e.get('start')-1)/10+1;let h=g+11<d?g+11:d;$('.borderless.menu').append($(`<a class="item" id='turnleft'><i class="angle left icon"></i></a>`));for(var j=g-1;j<h;j++){let k=$(`<a class="item">${j+1}</a>`);j+1==g&&k.attr('class','item active'),k.attr('href',`/infernoWeb/sloth?school=${b}&start=${10*j+1}&ctype=${c}`),$('.borderless.menu').append(k)}$('.borderless.menu').append($(`<a class="item" id='turnright'><i class="angle right icon"></i></a>`)),$('#turnleft').click(function(){window.location.href=`/infernoWeb/sloth?school=${b}&start=${parseInt(f)-10}&ctype=${c}`}),$('#turnright').click(function(){window.location.href=`/infernoWeb/sloth?school=${b}&start=${parseInt(f)+10}&ctype=${c}`})}$.getJSON('/sloth/get/clist'+window.location.search,function(b){first=b.shift(),length=first.TotalPage,school=first.school,ctype=first.ctype,a(school,ctype,length);for(let c of b){let d=$(`
			<div class="ui cards">
					<div class="card">
					<div class="content">
						<a class="avatar" href="">
  							<img class="right floated mini ui image" src="">
  						</a>
  						<a class="avatar" href="">
  							<div class="header shopTitle"></div>
  						</a>
  						<div class="meta type">{# 課程的類型 #}</div>
  						<div class="description" id='School_teacher'></div>
					</div>
					<div class="extra content">
  						<span class="right floated">
  							<i class="ui red heart icon"></i>
  							<span id='feedback_amount'></span>
						</span>
					</div>	
					</div>
				</div>
			`);School_teacher=$.parseHTML(`<p class="teacher">學校：${c.fields.school} 老師：${c.fields.teacher}</p>`),tmp=$.parseHTML(c.fields.feedback_amount+'\u4EBA\u53C3\u8207\u8A55\u5206'),d.find('a.avatar').attr('href','/infernoWeb/sloth/inside?id='+c.pk).end().find('a.title').attr('href','/infernoWeb/sloth/inside?id='+c.pk).end().find('img').attr('src',c.fields.avatar).end().find('div.shopTitle').text(c.fields.name).end().find('div.type').text(c.fields.ctype).end().find('#School_teacher').html(School_teacher).end().find('#feedback_amount').html(tmp).end(),$('#courseList').append(d)}})});